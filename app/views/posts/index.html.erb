<h1>These are my Posts</h1>

<% if user_signed_in? %>
  <p>Logged in as: <%= current_user.email %></p>
  <%= button_to 'Signout', destroy_user_session_path, method: :delete, form: {turbolink: false} %>
  
<% else %>
  <p>You are not logged in.</p>
<% end %>

<%= link_to ' Create post', new_post_path %>


  <% @posts.each do |post| %>
    <div class="post-container">
      <div class="post">
        <p><strong><%= post.user.username %></strong></p>
        <% if post.user.avatar? %>
          <%= image_tag post.user.avatar.url, class: "avatar" %>
        <% else %>
          <div class="default-avatar"><img src="https://www.pngarts.com/files/11/Avatar-PNG-Picture.png" alt="default-avatar" class="default-avatar"></div>
        <% end %>
        <p><%= post.user.email %></p>
      </div>
      <h1><%= link_to post.content, post_path(post) %></h1>
      <%= render 'post', post: post %>
        

      
        
      <% if post.liking_users.any? %>
        <h3>Liking Users:</h3>
        <ul>
          <% post.liking_users.each do |user| %>
            <li><%= user.email %></li>
          <% end %>
        </ul>
      <% end %>
    </div>
    
  <% end %>
<style>
  

    .post-container {
      max-width: 600px;
      margin: 0 auto;
      background-color: #f9f9f9;
      border: 1px solid #ddd;
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      flex: 4;
      /* background-image: url('https://img.freepik.com/free-vector/social-media-icons_53876-89125.jpg?size=626&ext=jpg&ga=GA1.1.128079093.1690178578&semt=ais'); 
      background-size: cover;  */
      }

        /* Style the post header */
      .post-header {
        display: flex;
        align-items: center;
      }
      /* Default style for avatars without an image */
      .default-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 10px;
      }
      .post {
        display: flex;
        flex-wrap: wrap;
        background-color: #728FCE;
        border-redius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        padding: 10px;
        
      }
	</style>